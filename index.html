<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mesaje Live NuntƒÉ</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { background: #0a0a0a; color: #fff; font-family: 'Segoe UI', Arial, sans-serif; margin: 0; text-align: center; }
        
        /* DESIGN PENTRU TELEFON (INVITATI) */
        #form-section { padding: 30px 15px; display: none; }
        .logo { font-size: 24px; font-weight: bold; color: #f1c40f; margin-bottom: 20px; }
        input, textarea { 
            width: 100%; max-width: 400px; padding: 15px; margin: 10px 0; 
            border-radius: 12px; border: 1px solid #333; background: #1a1a1a; color: #fff; font-size: 16px; box-sizing: border-box;
        }
        button { 
            background: #f1c40f; color: #000; padding: 18px; border: none; border-radius: 12px; 
            font-weight: bold; font-size: 18px; cursor: pointer; width: 100%; max-width: 400px;
        }
        #cloud-msg { display: none; background: #1b3320; border: 1px solid #2ed573; padding: 15px; border-radius: 12px; margin-top: 20px; color: #2ed573; animation: fadeIn 0.5s; }

        /* DESIGN PENTRU TV (AFISARE GIGANT) */
        #tv-section { height: 100vh; display: none; flex-direction: column; justify-content: center; padding: 0 50px; }
        .wedding-card { border: 6px solid #f1c40f; padding: 60px; border-radius: 40px; background: rgba(255,255,255,0.02); animation: zoomIn 1s; }
        .author { font-size: 50px; color: #f1c40f; text-transform: uppercase; margin-bottom: 20px; }
        .text { font-size: 80px; font-style: italic; line-height: 1.2; color: #fff; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes zoomIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body>

    <div id="form-section">
        <div class="logo">üíç FELICITƒÇRI LIVE</div>
        <h1>LƒÉsa»õi un mesaj mirilor</h1>
        <input type="text" id="nume" placeholder="Numele tƒÉu...">
        <textarea id="mesaj" rows="4" placeholder="Scrie urarea aici..."></textarea><br>
        <button id="btnTrimite" onclick="trimiteMesaj()">TRIMITE √éN CLOUD ‚òÅÔ∏è</button>
        <div id="cloud-msg">‚úÖ MESAJ TRIMIS √éN CLOUD! UitƒÉ-te la televizor!</div>
    </div>

    <div id="tv-section">
        <h1 style="font-size: 40px; margin-bottom: 30px;">CASƒÇ DE PIATRƒÇ! ‚ú®</h1>
        <div id="display-content">
             <div class="wedding-card"><p class="author">SISTEM</p><p class="text">A»ôteptƒÉm urƒÉrile...</p></div>
        </div>
    </div>

    <script>
        const firebaseConfig = { databaseURL: "https://felicitari-nunta-default-rtdb.firebaseio.com" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        if(window.innerWidth < 800) { document.getElementById('form-section').style.display = 'block'; }
        else { document.getElementById('tv-section').style.display = 'flex'; }

        function trimiteMesaj() {
            const author = document.getElementById('nume').value;
            const text = document.getElementById('mesaj').value;
            if(author && text) {
                document.getElementById('btnTrimite').disabled = true;
                db.ref('messages').push({ author, text, timestamp: new Date().toLocaleString() }).then(() => {
                    document.getElementById('cloud-msg').style.display = 'block';
                    document.getElementById('mesaj').value = '';
                    setTimeout(() => { 
                        document.getElementById('cloud-msg').style.display = 'none'; 
                        document.getElementById('btnTrimite').disabled = false;
                    }, 5000);
                });
            } else { alert("CompleteazƒÉ ambele c√¢mpuri!"); }
        }

        let index = 0;
        db.ref('messages').on('value', (snap) => {
            const data = snap.val();
            if(data && window.innerWidth >= 800) {
                const lista = Object.values(data);
                setInterval(() => {
                    const msg = lista[index % lista.length];
                    document.getElementById('display-content').innerHTML = `
                        <div class="wedding-card">
                            <p class="author">${msg.author}</p>
                            <p class="text">"${msg.text || msg.message}"</p>
                        </div>`;
                    index++;
                }, 8000);
            }
        });
    </script>
</body>
</html>
