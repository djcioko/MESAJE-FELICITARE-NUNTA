<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FelicitÄƒri pentru Miri ğŸ’</title>
<style>
/* CSS-ul tÄƒu complet de mai sus, pÄƒstrÃ¢nd toate stilurile È™i efectele */
... (include tot CSS-ul original de la codul Claude) ...
</style>
</head>
<body>
<div class="particles"></div>

<div class="header">
  <h1>FelicitÄƒri pentru Miri ğŸ’</h1>
  <p class="subtitle">LÄƒsaÈ›i-le un mesaj frumos pentru ziua lor specialÄƒ!</p>

  <div class="media-container">
    <div class="media-placeholder" onclick="document.getElementById('mediaInput').click()">
      <div>ğŸ“· ApasÄƒ aici pentru a Ã®ncÄƒrca o pozÄƒ sau video cu mirii<br>
      <small>(JPG, PNG, MP4 - max 10MB)</small></div>
    </div>
  </div>

  <input type="file" id="mediaInput" class="hidden-input" accept="image/*,video/*">
  <button class="upload-btn" onclick="document.getElementById('mediaInput').click()">ğŸ“· ÃncarcÄƒ Media</button>
  <button class="export-btn" onclick="exportMessages()">ğŸ“„ Export Mesaje</button>
</div>

<div class="container">
  <div class="message-form">
    <div class="form-group">
      <label for="authorName">Numele tÄƒu:</label>
      <input type="text" id="authorName" placeholder="Scrie numele tÄƒu aici..." required>
    </div>
    <div class="form-group">
      <label for="messageText">Mesajul tÄƒu pentru miri:</label>
      <textarea id="messageText" placeholder="Scrie aici un mesaj frumos pentru miri..." required></textarea>
    </div>
    <button class="submit-btn" onclick="addMessage()">ğŸ’• Trimite Felicitarea</button>
  </div>

  <div class="messages-container">
    <h2 class="messages-title">FelicitÄƒri de la invitaÈ›i ğŸ’</h2>
    <div id="messagesList"></div>
  </div>
</div>

<!-- Firebase CDN -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
  // ConfiguraÈ›ia ta Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyCzbzObPl5-eErZ0DaghYHf3VC1awtuHCs",
    authDomain: "felicitari-nunta.firebaseapp.com",
    databaseURL: "https://felicitari-nunta-default-rtdb.firebaseio.com",
    projectId: "felicitari-nunta",
    storageBucket: "felicitari-nunta.firebasestorage.app",
    messagingSenderId: "102925718812",
    appId: "1:102925718812:web:01f5ec325b8234133216d9",
    measurementId: "G-Z0HY95L1PH"
  };

  const app = firebase.initializeApp(firebaseConfig);
  const database = firebase.database(app);

  // Mesaje
  function addMessage() {
    const authorName = document.getElementById('authorName').value.trim();
    const messageText = document.getElementById('messageText').value.trim();
    if (!authorName || !messageText) { alert('Te rog completeazÄƒ toate cÃ¢mpurile!'); return; }

    const newMessage = {
        author: authorName,
        text: messageText,
        timestamp: new Date().toLocaleString('ro-RO')
    };

    database.ref('mesaje').push(newMessage);

    document.getElementById('authorName').value = '';
    document.getElementById('messageText').value = '';

    showSuccessMessage();
    createHeartEffect();
  }

  // AscultÄƒ mesaje live
  database.ref('mesaje').on('child_added', snapshot => {
    const data = snapshot.val();
    displayMessage(data);
  });

  function displayMessage(data) {
    const messagesList = document.getElementById('messagesList');
    const messageDiv = document.createElement('div');
    messageDiv.className = 'message';
    messageDiv.innerHTML = `
      <div class="message-author">ğŸ’• ${data.author}</div>
      <div class="message-text">${data.text}</div>
      <div class="message-time">${data.timestamp}</div>
    `;
    messagesList.prepend(messageDiv);
  }

  function showSuccessMessage() {
    const successDiv = document.createElement('div');
    successDiv.className = 'success-message';
    successDiv.textContent = 'âœ… Felicitarea ta a fost trimisÄƒ cu succes!';
    document.querySelector('.message-form').appendChild(successDiv);
    setTimeout(() => { successDiv.remove(); }, 3000);
  }

  function createHeartEffect() {
    for (let i=0;i<5;i++){
      setTimeout(()=>{
        const heart = document.createElement('div');
        heart.className='heart-animation';
        heart.textContent='ğŸ’•';
        heart.style.left = Math.random()*window.innerWidth+'px';
        heart.style.top = window.innerHeight-100+'px';
        document.body.appendChild(heart);
        setTimeout(()=>{heart.remove();},2000);
      }, i*200);
    }
  }

  function createParticles() {
    const particles=document.querySelector('.particles');
    const symbols=['ğŸ’','ğŸ’','ğŸŒ¹','ğŸ’•','âœ¨','ğŸ‰'];
    setInterval(()=>{
      const particle=document.createElement('div');
      particle.className='particle';
      particle.textContent=symbols[Math.floor(Math.random()*symbols.length)];
      particle.style.left=Math.random()*100+'%';
      particle.style.animationDelay=Math.random()*2+'s';
      particles.appendChild(particle);
      setTimeout(()=>{particle.remove();},6000);
    },3000);
  }

  document.addEventListener('DOMContentLoaded', function(){ createParticles(); });

</script>
</body>
</html>
