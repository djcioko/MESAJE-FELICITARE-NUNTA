<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FelicitƒÉri pentru Miri üíç</title>
<style>
/* ===== Stilurile tale existente ===== */
* {margin:0;padding:0;box-sizing:border-box;}
body {font-family:'Georgia', serif; background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); min-height:100vh; position:relative; overflow-x:hidden;}
.particles {position: fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1;}
.particle {position:absolute; color: rgba(255,182,193,0.6); font-size:20px; animation: float 6s ease-in-out infinite;}
@keyframes float {0%,100%{transform:translateY(0) rotate(0deg);opacity:0;}10%{opacity:1;}90%{opacity:1;}50%{transform:translateY(-20px) rotate(180deg);}}

.header {background: linear-gradient(45deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1)); backdrop-filter: blur(10px); border-radius:20px; margin:20px; padding:30px; text-align:center; box-shadow:0 8px 32px rgba(0,0,0,0.1); position:relative; z-index:2;}
.media-container {width:100%; max-width:500px; height:300px; margin:20px auto; border-radius:15px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,0.2); position:relative;}
.media-placeholder {width:100%; height:100%; background: linear-gradient(45deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%); display:flex; align-items:center; justify-content:center; color:white; font-size:18px; cursor:pointer; transition: all 0.3s ease;}
.media-placeholder:hover {transform: scale(1.02);}
.uploaded-media {width:100%; height:100%; object-fit:cover;}
.upload-btn, .export-btn, .submit-btn {cursor:pointer; transition:all 0.3s ease;}
.upload-btn {background: linear-gradient(45deg, #ff6b6b, #ee5a24); color:white; border:none; padding:12px 25px; border-radius:25px; font-size:16px; margin:10px 5px; box-shadow:0 4px 15px rgba(238,90,36,0.3);}
.upload-btn:hover {transform:translateY(-2px); box-shadow:0 6px 20px rgba(238,90,36,0.4);}
.hidden-input {display:none;}
h1 {color:#d63031; font-size:2.5em; text-shadow:2px 2px 4px rgba(0,0,0,0.1); margin-bottom:10px;}
.subtitle {color:#2d3436; font-size:1.2em; opacity:0.8;}
.container {max-width:800px; margin:0 auto; padding:0 20px; position:relative; z-index:2;}
.message-form, .messages-container {background: rgba(255,255,255,0.9); backdrop-filter: blur(10px); border-radius:20px; padding:30px; margin:20px 0; box-shadow:0 10px 30px rgba(0,0,0,0.1);}
.form-group {margin-bottom:20px;}
label {display:block; color:#2d3436; font-weight:bold; margin-bottom:8px; font-size:16px;}
input[type="text"], textarea {width:100%; padding:15px; border:2px solid #ddd; border-radius:12px; font-size:16px; transition:all 0.3s ease; background: rgba(255,255,255,0.8);}
input[type="text"]:focus, textarea:focus {outline:none; border-color:#ff6b6b; box-shadow:0 0 0 3px rgba(255,107,107,0.1); transform:translateY(-2px);}
textarea {height:120px; resize:vertical;}
.submit-btn {background:linear-gradient(45deg,#ff6b6b,#ee5a24); color:white; border:none; padding:15px 40px; border-radius:30px; font-size:18px; font-weight:bold; width:100%; box-shadow:0 5px 20px rgba(238,90,36,0.3);}
.submit-btn:hover {transform:translateY(-3px); box-shadow:0 8px 25px rgba(238,90,36,0.4);}
.messages-title {color:#d63031; font-size:1.8em; margin-bottom:20px; text-align:center;}
.message {background: linear-gradient(135deg, #fff5f5 0%, #ffe8e8 100%); border-left:4px solid #ff6b6b; border-radius:15px; padding:20px; margin:15px 0; box-shadow:0 4px 15px rgba(0,0,0,0.05); opacity:0; transform:translateY(20px); animation:slideIn 0.5s ease forwards;}
@keyframes slideIn {to{opacity:1; transform:translateY(0);}}
.message-author {color:#d63031; font-weight:bold; font-size:16px; margin-bottom:8px;}
.message-text {color:#2d3436; line-height:1.6; font-size:15px; margin-bottom:10px;}
.message-time {color:#636e72; font-size:12px; text-align:right;}
.heart-animation {position:fixed; color:#ff6b6b; font-size:24px; pointer-events:none; z-index:1000; animation:heartFloat 2s ease-out forwards;}
@keyframes heartFloat {0%{transform:translateY(0) scale(1); opacity:1;}100%{transform:translateY(-100px) scale(1.5); opacity:0;}}
.success-message {background:linear-gradient(45deg,#00b894,#00cec9); color:white; padding:15px; border-radius:10px; margin:10px 0; text-align:center; opacity:0; transform:translateY(-10px); animation:showSuccess 0.5s ease forwards;}
@keyframes showSuccess {to{opacity:1; transform:translateY(0);}}
@media(max-width:768px){.header{margin:10px;padding:20px;} h1{font-size:2em;} .media-container{height:250px;} .message-form, .messages-container{margin:15px 10px;padding:20px;} .submit-btn{padding:12px 30px;font-size:16px;}}
</style>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

</head>
<body>
<div class="particles"></div>

<div class="header">
    <h1>FelicitƒÉri pentru Miri üíç</h1>
    <p class="subtitle">LƒÉsa»õi-le un mesaj frumos pentru ziua lor specialƒÉ!</p>

    <div class="media-container">
        <div class="media-placeholder" onclick="document.getElementById('mediaInput').click()">
            <div>üì∑ ApasƒÉ aici pentru a √ÆncƒÉrca o pozƒÉ sau video cu mirii<br><small>(JPG, PNG, MP4 - max 10MB)</small></div>
        </div>
    </div>

    <input type="file" id="mediaInput" class="hidden-input" accept="image/*,video/*">
    <button class="upload-btn" onclick="document.getElementById('mediaInput').click()">üì∑ √éncarcƒÉ Media</button>
</div>

<div class="container">
    <div class="message-form">
        <div class="form-group">
            <label for="authorName">Numele tƒÉu:</label>
            <input type="text" id="authorName" placeholder="Scrie numele tƒÉu aici..." required>
        </div>
        <div class="form-group">
            <label for="messageText">Mesajul tƒÉu pentru miri:</label>
            <textarea id="messageText" placeholder="Scrie aici un mesaj frumos pentru miri..." required></textarea>
        </div>
        <button class="submit-btn" onclick="addMessage()">üíï Trimite Felicitarea</button>
    </div>

    <div class="messages-container">
        <h2 class="messages-title">FelicitƒÉri de la invita»õi üíù</h2>
        <div id="messagesList"></div>
    </div>
</div>

<script>
  // Config Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyCzbzObPl5-eErZ0DaghYHf3VC1awtuHCs",
    authDomain: "felicitari-nunta.firebaseapp.com",
    databaseURL: "https://felicitari-nunta-default-rtdb.firebaseio.com",
    projectId: "felicitari-nunta",
    storageBucket: "felicitari-nunta.firebasestorage.app",
    messagingSenderId: "102925718812",
    appId: "1:102925718812:web:01f5ec325b8234133216d9",
    measurementId: "G-Z0HY95L1PH"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // Particule
  function createParticles() {
    const particles = document.querySelector('.particles');
    const symbols = ['üíù','üíç','üåπ','üíï','‚ú®','üéâ'];
    setInterval(()=>{
      const p = document.createElement('div');
      p.className='particle';
      p.textContent=symbols[Math.floor(Math.random()*symbols.length)];
      p.style.left=Math.random()*100+'%';
      p.style.animationDelay=Math.random()*2+'s';
      particles.appendChild(p);
      setTimeout(()=>{p.remove();},6000);
    },3000);
  }

  // Upload media
  const mediaInput=document.getElementById('mediaInput');
  mediaInput.addEventListener('change',function(e){
    const file=e.target.files[0];
    if(file){
      if(file.size>10*1024*1024){alert('Fi»ôierul este prea mare! Maxim 10MB.');return;}
      const reader=new FileReader();
      reader.onload=function(e){
        const mediaContainer=document.querySelector('.media-container');
        const placeholder=mediaContainer.querySelector('.media-placeholder');
        if(file.type.startsWith('image/')){
          placeholder.innerHTML=`<img src="${e.target.result}" class="uploaded-media" alt="Mirii">`;
        } else if(file.type.startsWith('video/')){
          placeholder.innerHTML=`<video src="${e.target.result}" class="uploaded-media" controls autoplay muted loop></video>`;
        }
      }
      reader.readAsDataURL(file);
    }
  });

  // Mesaje Firebase
  function addMessage(){
    const author=document.getElementById('authorName').value.trim();
    const text=document.getElementById('messageText').value.trim();
    if(!author || !text){alert('CompleteazƒÉ toate c√¢mpurile!'); return;}
    const newMessage={author,text,timestamp:new Date().toLocaleString('ro-RO')};
    db.ref('messages').push(newMessage);
    document.getElementById('authorName').value='';
    document.getElementById('messageText').value='';
  }

  function displayMessages(){
    const messagesList=document.getElementById('messagesList');
    db.ref('messages').on('value',(snapshot)=>{
      messagesList.innerHTML='';
      const data=snapshot.val();
      if(!data){messagesList.innerHTML='<p style="text-align:center;color:#636e72;">√éncƒÉ nu sunt mesaje. Fii primul!</p>'; return;}
      const msgs=Object.values(data).reverse();
      msgs.forEach((msg,index)=>{
        const div=document.createElement('div');
        div.className='message';
        div.style.animationDelay=`${index*0.1}s`;
        div.innerHTML=`<div class="message-author">üíï ${msg.author}</div><div class="message-text">${msg.text}</div><div class="message-time">${msg.timestamp}</div>`;
        messagesList.appendChild(div);
      });
    });
  }

  function createHeartEffect(){
    for(let i=0;i<5;i++){
      setTimeout(()=>{
        const heart=document.createElement('div');
        heart.className='heart-animation';
        heart.textContent='üíï';
        heart.style.left=Math.random()*window.innerWidth+'px';
        heart.style.top=window.innerHeight-100+'px';
        document.body.appendChild(heart);
        setTimeout(()=>{heart.remove();},2000);
      },i*200);
    }
  }

  // Init
  document.addEventListener('DOMContentLoaded',()=>{
    createParticles();
    displayMessages();
  });

</script>
</body>
</html>
