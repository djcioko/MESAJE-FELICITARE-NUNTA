<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Felicitări Nuntă</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 20px;
    background-color: #fff;
  }
  img#welcome {
    max-width: 80%;
    height: auto;
    margin-bottom: 20px;
  }
  #messages p {
    font-size: 1.5em;
    margin: 10px 0;
  }
  #inputArea {
    margin-top: 20px;
  }
  input, button {
    font-size: 1em;
    padding: 8px;
  }
  .heart {
    color: red;
    font-size: 2em;
    animation: float 2s infinite;
  }
  @keyframes float {
    0% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0); }
  }
</style>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

</head>
<body>

<h1>Felicitări pentru mirii noștri!</h1>
<img id="welcome" src="poza-miri.jpg" alt="Mirele și mireasa">

<div id="messages"></div>

<div id="inputArea">
  <input type="text" id="newMessage" placeholder="Scrie un mesaj...">
  <button onclick="addMessage()">Trimite</button>
</div>

<script>
  // 🔹 Configurația Firebase reală 🔹
  const firebaseConfig = {
    apiKey: "AIzaSyCzbzObPl5-eErZ0DaghYHf3VC1awtuHCs",
    authDomain: "felicitari-nunta.firebaseapp.com",
    databaseURL: "https://felicitari-nunta-default-rtdb.firebaseio.com",
    projectId: "felicitari-nunta",
    storageBucket: "felicitari-nunta.firebasestorage.app",
    messagingSenderId: "102925718812",
    appId: "1:102925718812:web:01f5ec325b8234133216d9",
    measurementId: "G-Z0HY95L1PH"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const messagesDiv = document.getElementById('messages');

  // Funcție pentru a afișa mesajele
  function showMessages(snapshot) {
    messagesDiv.innerHTML = '';
    snapshot.forEach(childSnapshot => {
      const msg = childSnapshot.val().message;
      const p = document.createElement('p');
      p.textContent = msg;
      messagesDiv.appendChild(p);

      const heart = document.createElement('span');
      heart.textContent = '❤️';
      heart.className = 'heart';
      messagesDiv.appendChild(heart);
    });
  }

  // Ascultă modificările în Firebase și actualizează live
  const messagesRef = db.ref('messages');
  messagesRef.on('value', showMessages);

  // Adaugă mesaj nou în Firebase
  function addMessage() {
    const input = document.getElementById('newMessage');
    if (input.value.trim() === '') return;
    messagesRef.push({ message: input.value.trim() });
    input.value = '';
  }
</script>

</body>
</html>
